[{"/home/gabi/Desktop/Projects/My-Gram/src/index.js":"1","/home/gabi/Desktop/Projects/My-Gram/src/App.js":"2","/home/gabi/Desktop/Projects/My-Gram/src/Pages/Login.js":"3","/home/gabi/Desktop/Projects/My-Gram/src/AuthProvider.js":"4","/home/gabi/Desktop/Projects/My-Gram/src/Firebase.js":"5","/home/gabi/Desktop/Projects/My-Gram/src/Pages/PrivateRoute.js":"6","/home/gabi/Desktop/Projects/My-Gram/src/Pages/Register.js":"7","/home/gabi/Desktop/Projects/My-Gram/src/Pages/Profile.js":"8","/home/gabi/Desktop/Projects/My-Gram/src/components/Navbar.js":"9"},{"size":286,"mtime":1629134857814,"results":"10","hashOfConfig":"11"},{"size":734,"mtime":1629401029735,"results":"12","hashOfConfig":"11"},{"size":1949,"mtime":1629395928982,"results":"13","hashOfConfig":"11"},{"size":1318,"mtime":1629401166882,"results":"14","hashOfConfig":"11"},{"size":490,"mtime":1629243997141,"results":"15","hashOfConfig":"11"},{"size":398,"mtime":1629400910443,"results":"16","hashOfConfig":"11"},{"size":2056,"mtime":1629400919607,"results":"17","hashOfConfig":"11"},{"size":1574,"mtime":1629395969386,"results":"18","hashOfConfig":"11"},{"size":866,"mtime":1629233354761,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"auh244",{"filePath":"23","messages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27"},{"filePath":"28","messages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30"},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"33","messages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37"},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40"},{"filePath":"41","messages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"/home/gabi/Desktop/Projects/My-Gram/src/index.js",[],["43","44"],"/home/gabi/Desktop/Projects/My-Gram/src/App.js",[],"/home/gabi/Desktop/Projects/My-Gram/src/Pages/Login.js",["45","46"],"import React,{useState, useContext,useRef} from 'react';\nimport girl from '../images/girl.jpg';\nimport '../styles/login.css';\nimport Navbar from '../components/Navbar.js'\nimport { Link, useHistory } from 'react-router-dom';\nimport {useAuth} from '../AuthProvider.js';\n\n\nfunction Login() {\n  const emailRef = useRef()\n  const passwordRef = useRef()\n\n  const { login, currentUser, logout } = useAuth()\n  const [error, setError] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n  const history = useHistory()\n\n  async function handleSubmit(e) {\n    e.preventDefault()\n\n    try {\n      setError(\"\")\n      setLoading(true)\n      await login(emailRef.current.value, passwordRef.current.value)\n      history.push(\"/profile\")\n    } catch {\n      setError(\"Ocorreu um erro.\")\n    }\n\n    setLoading(false)\n  }\n\n    return (\n        <>\n        {!currentUser ? (<div id=\"main-container\">\n     \n        <div id=\"imagens\"><img id =\"image\" alt=\"\" src ={girl}></img></div>\n        <div id =\"dados-login-registo\">\n        <div id=\"dados-login\">\n            <h1 id=\"title\">My-Gram</h1>\n            \n            {error &&  <Alert error={error}/>}\n            <form onSubmit={handleSubmit}>\n            <input type=\"text\" ref={emailRef} placeholder=\"Nome de utilizador\"></input>\n            <input type=\"password\" ref ={passwordRef} placeholder=\"Palavra-passe\"></input>\n            <button className =\"login\" type=\"submit\">Entrar</button>\n            </form>\n        </div>\n        <div id=\"registo\"><p>Não tem uma conta? <Link to='/register' id=\"regist-link\" href=\"youtube.com\">Registe-se</Link></p>\n        </div>\n        </div>\n    </div>):(<div id=\"reg\"><Navbar/><div id=\"must-logout\">Já tens sessão iniciada</div><button id=\"logout-btn\" onClick={logout}>Logout</button></div>)}\n    \n    </>\n\n       \n    )\n    };\n\n    function Alert(props) {\n      return(\n        <div className=\"alert\">{props.error}</div>\n      )\n    }\n\n\n\n  export default Login;","/home/gabi/Desktop/Projects/My-Gram/src/AuthProvider.js",["47"],"\nimport React, { useContext, useState, useEffect } from \"react\"\nimport { auth,db } from \"./Firebase\"\n\nconst AuthContext = React.createContext()\n\nexport function useAuth() {\n  return useContext(AuthContext)\n}\n\nexport function AuthProvider({ children }) {\n  const [currentUser, setCurrentUser] = useState()\n  const [loading, setLoading] = useState(true)\n\n  function signup(email, password, username) {\n    return auth.createUserWithEmailAndPassword(email, password)\n    .then(function(user) {\n      db.collection('users').doc(user.user.uid).set({\n        username:username,\n        followers:[],\n        following:[],\n        posts:[]\n      }); \n    })\n    .catch(function(error) {\n      var errorCode = error.code;\n      var errorMessage = error.message;\n      alert(errorMessage)\n    });\n  }\n\n  \n\n  function login(email, password) {\n    return auth.signInWithEmailAndPassword(email, password)\n  }\n\n  function logout() {\n    return auth.signOut()\n  }  \n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(user => {\n      setCurrentUser(user)\n      setLoading(false)\n    })\n\n    return unsubscribe\n  }, [])\n  \n\n  const value = {\n    currentUser,\n    login,\n    signup,\n    logout,\n  \n  }\n\n  return (\n    <AuthContext.Provider value={value}>\n      {!loading && children}\n    </AuthContext.Provider>\n  )\n}","/home/gabi/Desktop/Projects/My-Gram/src/Firebase.js",[],"/home/gabi/Desktop/Projects/My-Gram/src/Pages/PrivateRoute.js",[],"/home/gabi/Desktop/Projects/My-Gram/src/Pages/Register.js",["48","49","50"],"import React,{useState, useEffect,useRef} from 'react';\nimport '../styles/register.css';\nimport { Link, useHistory } from 'react-router-dom';\nimport {useAuth} from '../AuthProvider.js';\nimport Navbar from '../components/Navbar.js'\n\n\nfunction Register() {\n  const emailRef = useRef()\n  const passwordRef = useRef()\n  const confirmRef = useRef()\n  const userRef = useRef()\n  const picRef = useRef()\n\n  const { signup,currentUser,logout} = useAuth()\n  const [error, setError] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n  const history = useHistory()\n\n\n\n\n  async function handleSubmit(e) {\n    e.preventDefault()\n\n    \n      setError(\"\");\n      setLoading(true);\n      await signup(emailRef.current.value, passwordRef.current.value,userRef.current.value)\n      history.push(\"/profile\");\n      setError(\"Ocorreu um erro ao criar conta.\")\n    \n\n    setLoading(false)\n  }\n\n    return (\n        \n    <>\n    {!currentUser ?(<div>\n         \n        <div className=\"dados-registo\">\n            <h1>Regista-te</h1>\n            {error &&  <Alert error={error}/>}\n            <form onSubmit={handleSubmit}>\n            <input type=\"text\" ref={userRef} placeholder=\"Nome de utilizador\"></input>\n            <input type=\"text\" ref={emailRef} placeholder=\"E-mail\"></input>\n            <input type=\"password\" ref ={passwordRef} placeholder=\"Palavra-passe\"></input>\n            <input type=\"password\" ref ={confirmRef} placeholder=\"Palavra-passe\"></input>\n            <button className =\"register\" type=\"submit\">Criar conta</button>\n            </form>\n            \n        </div>\n        <div id=\"registo-conta\"><p>Já tem uma conta? <Link to='/' id=\"login-link\">Faça login</Link></p></div>\n        \n</div>) : (<div id=\"reg\"><Navbar/><div id=\"must-logout\">Não podes registar enquanto tens sessão iniciada</div><button id=\"logout-btn\" onClick={logout}>Logout</button></div>)}\n       \n</>\n\n       \n    )\n    };\n    function Alert(props) {\n        return(\n          <div className=\"alert\">{props.error}</div>\n        )\n      }\n\n  export default Register;","/home/gabi/Desktop/Projects/My-Gram/src/Pages/Profile.js",["51"],"import React, {useState,useEffect} from 'react';\nimport {useAuth} from '../AuthProvider.js';\nimport { db } from \"../Firebase\"\nimport Navbar from '../components/Navbar.js';\nimport profile from '../images/profile.png'\nimport '../styles/profile.css'\n\nfunction Profile() {\nconst { currentUser } = useAuth();\nconst [userDoc, setDoc] =useState()\n\nuseEffect(() => {\n \n    var docRef = db.collection(\"users\").doc(currentUser.uid);\n  console.log(currentUser)\n  docRef.get().then((doc) => {\n      if (doc.exists) {\n          setDoc(doc.data())\n      } else {\n          // doc.data() will be undefined in this case\n          console.log(\"No such document!\");\n      }\n  }).catch((error) => {\n      console.log(\"Error getting document:\", error);\n  });\n},[])\n\n\n    return (\n      <div id=\"profile-container\">\n        <div><Navbar/></div>\n      <div id=\"profile\">\n        <div id=\"profile-info\">\n          <div id=\"pic\"><img id=\"pfp\" alt=\"\" src={profile} /></div>\n          <div id=\"stats-container\">\n            <div id=\"username\"><h1>{!userDoc ? undefined:userDoc.username}</h1></div>\n          <div id=\"stats\">\n            \n                 <p className=\"stat\">{!userDoc ? undefined:userDoc.posts.length} Publicações</p>\n                 <p className=\"stat\">{!userDoc ? undefined:userDoc.followers.length} Seguidores</p>\n                 <p className=\"stat\">{!userDoc ? undefined:userDoc.following.length} Seguindo</p>\n                 \n                 \n                </div>\n                </div>\n        </div>\n      </div>\n      \n      </div>\n\n    )}\n\n\n  export default Profile;","/home/gabi/Desktop/Projects/My-Gram/src/components/Navbar.js",[],{"ruleId":"52","replacedBy":"53"},{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","severity":1,"message":"57","line":1,"column":25,"nodeType":"58","messageId":"59","endLine":1,"endColumn":35},{"ruleId":"56","severity":1,"message":"60","line":15,"column":10,"nodeType":"58","messageId":"59","endLine":15,"endColumn":17},{"ruleId":"56","severity":1,"message":"61","line":26,"column":11,"nodeType":"58","messageId":"59","endLine":26,"endColumn":20},{"ruleId":"56","severity":1,"message":"62","line":1,"column":25,"nodeType":"58","messageId":"59","endLine":1,"endColumn":34},{"ruleId":"56","severity":1,"message":"63","line":13,"column":9,"nodeType":"58","messageId":"59","endLine":13,"endColumn":15},{"ruleId":"56","severity":1,"message":"60","line":17,"column":10,"nodeType":"58","messageId":"59","endLine":17,"endColumn":17},{"ruleId":"64","severity":1,"message":"65","line":26,"column":3,"nodeType":"66","endLine":26,"endColumn":5,"suggestions":"67"},"no-native-reassign",["68"],"no-negated-in-lhs",["69"],"no-unused-vars","'useContext' is defined but never used.","Identifier","unusedVar","'loading' is assigned a value but never used.","'errorCode' is assigned a value but never used.","'useEffect' is defined but never used.","'picRef' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'currentUser'. Either include it or remove the dependency array.","ArrayExpression",["70"],"no-global-assign","no-unsafe-negation",{"desc":"71","fix":"72"},"Update the dependencies array to be: [currentUser]",{"range":"73","text":"74"},[741,743],"[currentUser]"]